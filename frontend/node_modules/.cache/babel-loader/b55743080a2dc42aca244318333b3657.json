{"ast":null,"code":"var _jsxFileName = \"/workspace/to-do-list/src/components/Tasks/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Emoji } from \"emoji-mart\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { v4 as uuid } from \"uuid\";\nimport { Header, Container, CreateNewTask, TaskContainer, Section, WithOutTasks, Details } from \"./styles\";\nimport ImgBack from \"../../assets/back.svg\";\nimport ImgWithoutTask from \"../../assets/task.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Tasks() {\n  _s();\n\n  const [category, setCategory] = useState({\n    bgColor: \"#0f3f86\",\n    categoryID: \"loadings\",\n    content: \"loading...\",\n    emojiID: \"warning\",\n    textColor: \"white\"\n  });\n  const [allTasks, setAllTasks] = useState({\n    finished: [],\n    incomplete: []\n  });\n  const [newTask, setNewTask] = useState({\n    taskID: \"\",\n    content: \"\",\n    finish: false,\n    categoryID: \"\"\n  });\n  const [dropdownIsOpen, setDropdownIsOpen] = useState(false);\n  const params = useParams();\n\n  function getLocalCategoryInfo(categoryID) {\n    // FOi\n    let data = JSON.parse(localStorage.getItem(\"@to-do-list/categories\") || \"[]\");\n\n    for (let c = 0; c < data.length; c++) {\n      if (data[c].categoryID === categoryID) {\n        return setCategory(data[c]);\n      }\n    }\n  }\n\n  function refreshLocalTasksState() {\n    // if localstorage change\n    let localData = JSON.parse(localStorage.getItem(\"@to-do-list/tasks\") || \"[]\");\n    let filterTasks = {\n      finished: [],\n      incomplete: []\n    };\n\n    for (let c = 0; c < localData.length; c++) {\n      if (localData[c].categoryID === params.categoryID) {\n        if (localData[c].finish) {\n          filterTasks.finished.push(localData[c]);\n        } else {\n          filterTasks.incomplete.push(localData[c]);\n        }\n      }\n    }\n\n    setAllTasks(filterTasks);\n  }\n\n  function newLocalTask() {\n    let localData = JSON.parse(localStorage.getItem(\"@to-do-list/tasks\") || \"[]\");\n    localData.push({\n      taskID: uuid(),\n      content: newTask.content,\n      categoryID: params.categoryID || \"\",\n      finish: false\n    });\n    localStorage.setItem(\"@to-do-list/tasks\", JSON.stringify(localData));\n    refreshLocalTasksState();\n    setNewTask({\n      taskID: \"\",\n      content: \"\",\n      finish: false,\n      categoryID: \"\"\n    });\n  }\n\n  function handleDoneLocalTask(taskID) {\n    let localData = JSON.parse(localStorage.getItem(\"@to-do-list/tasks\") || \"[]\");\n\n    for (let c = 0; c < localData.length; c++) {\n      if (localData[c].taskID === taskID) {\n        localData[c].finish = localData[c].finish ? false : true;\n      }\n    }\n\n    localStorage.setItem(\"@to-do-list/tasks\", JSON.stringify(localData));\n    refreshLocalTasksState();\n  }\n\n  function handleNewTask() {\n    if (newTask.content.length > 0) {\n      newLocalTask();\n    }\n  }\n\n  useEffect(() => {\n    getLocalCategoryInfo(params.categoryID || \"\");\n    refreshLocalTasksState();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      bgColor: category.bgColor,\n      textColor: category.textColor,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/categories\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: ImgBack,\n              alt: \"Voltar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \" Voltar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n          className: \"dropdown-category\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-pen-to-square\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 21\n              }, this), \" Editar Categoria\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this), \" Deletar Categoria\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-gear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Emoji, {\n            emoji: \"heavy_plus_sign\",\n            set: \"facebook\",\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: category.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(CreateNewTask, {\n        isOk: newTask.content.length !== 0,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleNewTask,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Adicionar nova tarefa\",\n            value: newTask.content,\n            onChange: e => setNewTask({ ...newTask,\n              content: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), allTasks.finished.length === 0 && allTasks.incomplete.length === 0 ? /*#__PURE__*/_jsxDEV(WithOutTasks, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: ImgWithoutTask,\n          alt: \"Nenhuma task cadastrada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Nenhuma task cadastrada\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), allTasks.incomplete.map(task => /*#__PURE__*/_jsxDEV(TaskContainer, {\n        onClick: () => handleDoneLocalTask(task.taskID),\n        finish: task.finish,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: task.finish ? /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-circle-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: task.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this)]\n      }, task.taskID, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }, this)), allTasks.finished.length > 0 ? /*#__PURE__*/_jsxDEV(Details, {\n        open: true,\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: [\"Tarefas Conclu\\xEDdas (\", allTasks.finished.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }, this), allTasks.finished.map(task => /*#__PURE__*/_jsxDEV(TaskContainer, {\n          onClick: () => handleDoneLocalTask(task.taskID),\n          finish: task.finish,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: task.finish ? /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa-solid fa-circle-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 27\n            }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa-solid fa-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: task.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 21\n          }, this)]\n        }, task.taskID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 19\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Tasks, \"C2PU47H0l2NdPF8FX0If9sQXH4U=\", false, function () {\n  return [useParams];\n});\n\n_c = Tasks;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"sources":["/workspace/to-do-list/src/components/Tasks/index.tsx"],"names":["useState","useEffect","Emoji","Link","useParams","v4","uuid","Header","Container","CreateNewTask","TaskContainer","Section","WithOutTasks","Details","ImgBack","ImgWithoutTask","Tasks","category","setCategory","bgColor","categoryID","content","emojiID","textColor","allTasks","setAllTasks","finished","incomplete","newTask","setNewTask","taskID","finish","dropdownIsOpen","setDropdownIsOpen","params","getLocalCategoryInfo","data","JSON","parse","localStorage","getItem","c","length","refreshLocalTasksState","localData","filterTasks","push","newLocalTask","setItem","stringify","handleDoneLocalTask","handleNewTask","e","target","value","map","task"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Emoji } from \"emoji-mart\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { v4 as uuid } from \"uuid\";\n\nimport { Header, Container, CreateNewTask, TaskContainer, Section, WithOutTasks, Details } from \"./styles\";\nimport ImgBack from \"../../assets/back.svg\";\nimport ImgWithoutTask from \"../../assets/task.svg\";\n\ntype Task = {\n  taskID: string;\n  content: string;\n  finish: boolean;\n  categoryID: string;\n}\n\ntype AllTasks = {\n  finished: Task[];\n  incomplete: Task[];\n}\n\nexport function Tasks() {\n  const [category, setCategory] = useState({\n    bgColor: \"#0f3f86\",\n    categoryID: \"loadings\",\n    content: \"loading...\",\n    emojiID: \"warning\",\n    textColor: \"white\",\n  });\n  const [allTasks, setAllTasks] = useState<AllTasks>({\n    finished: [],\n    incomplete: []\n  });\n  const [newTask, setNewTask] = useState<Task>({\n    taskID: \"\",\n    content: \"\",\n    finish: false,\n    categoryID: \"\",\n  });\n\n  const [dropdownIsOpen, setDropdownIsOpen] = useState(false);\n\n  const params = useParams();\n\n  function getLocalCategoryInfo(categoryID: string) { // FOi\n    let data = JSON.parse(localStorage.getItem(\"@to-do-list/categories\") || \"[]\")\n\n    for (let c = 0; c < data.length; c++) {\n      if (data[c].categoryID === categoryID) {\n        return setCategory(data[c]);\n      }\n    }\n  }\n\n  function refreshLocalTasksState() { // if localstorage change\n    let localData: Task[] = JSON.parse(localStorage.getItem(\"@to-do-list/tasks\") || \"[]\");\n    let filterTasks: AllTasks = {\n      finished: [],\n      incomplete: []\n    };\n\n    for (let c = 0; c < localData.length; c++) {\n      if (localData[c].categoryID === params.categoryID) {\n        if (localData[c].finish) {\n          filterTasks.finished.push(localData[c]);\n        } else {\n          filterTasks.incomplete.push(localData[c]);\n        }\n      }\n    }\n\n    setAllTasks(filterTasks);\n  }\n\n  function newLocalTask() {\n    let localData: Task[] = JSON.parse(localStorage.getItem(\"@to-do-list/tasks\") || \"[]\");\n\n    localData.push({\n      taskID: uuid(),\n      content: newTask.content,\n      categoryID: params.categoryID || \"\",\n      finish: false\n    });\n\n    localStorage.setItem(\"@to-do-list/tasks\", JSON.stringify(localData));\n\n    refreshLocalTasksState();\n    setNewTask({\n      taskID: \"\",\n      content: \"\",\n      finish: false,\n      categoryID: \"\",\n    });\n  }\n\n  function handleDoneLocalTask(taskID: string) {\n    let localData: Task[] = JSON.parse(localStorage.getItem(\"@to-do-list/tasks\") || \"[]\");\n\n    for (let c = 0; c < localData.length; c++) {\n      if (localData[c].taskID === taskID) {\n        localData[c].finish = localData[c].finish ? false : true;\n      }\n    }\n\n    localStorage.setItem(\"@to-do-list/tasks\", JSON.stringify(localData));\n    refreshLocalTasksState();\n  }\n\n  function handleNewTask() {\n    if (newTask.content.length > 0) {\n      newLocalTask();\n    }\n  }\n\n  useEffect(() => {\n    getLocalCategoryInfo(params.categoryID || \"\");\n    refreshLocalTasksState();\n  }, [])\n\n  return (\n    <Container>\n      <Header bgColor={category.bgColor} textColor={category.textColor}>\n        <div>\n          <Link to={\"/categories\"} >\n            <div>\n              <img src={ImgBack} alt=\"Voltar\" />\n              <h2> Voltar</h2>\n            </div>\n          </Link>\n        </div>\n\n        <div>\n          <Dropdown className=\"dropdown-category\">\n            <div>\n              <span><i className=\"fa-solid fa-pen-to-square\"></i> Editar Categoria</span>\n              <span><i className=\"fa-solid fa-trash\"></i> Deletar Categoria</span>\n            </div>\n\n            <i className=\"fa-solid fa-gear\"></i>\n          </Dropdown>\n\n          <div>\n            <Emoji emoji={\"heavy_plus_sign\"} set='facebook' size={40} />\n\n            <h1>{category.content}</h1>\n          </div>\n        </div>\n      </Header>\n\n      <Section>\n        <CreateNewTask\n          isOk={newTask.content.length !== 0}\n        >\n          <div onClick={handleNewTask}>\n            <i className={\"fa-solid fa-plus\"} ></i>\n          </div>\n\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Adicionar nova tarefa\"\n              value={newTask.content}\n              onChange={e => setNewTask({ ...newTask, content: e.target.value })}\n            />\n          </div>\n        </CreateNewTask>\n\n        {\n          allTasks.finished.length === 0 && allTasks.incomplete.length === 0\n          ? <WithOutTasks>\n              <img src={ImgWithoutTask} alt=\"Nenhuma task cadastrada\" />\n\n              <h1>Nenhuma task cadastrada</h1>\n            </WithOutTasks>\n          : <></>\n        }\n        {\n          allTasks.incomplete.map(task =>\n            <TaskContainer\n              key={task.taskID}\n              onClick={() => handleDoneLocalTask(task.taskID)}\n              finish={task.finish}\n            >\n              <div>\n                {\n                  task.finish\n                  ? <i className=\"fa-solid fa-circle-check\"></i>\n                  : <i className=\"fa-solid fa-circle\"></i>\n                }\n              </div>\n\n              <div>\n                {task.content}\n              </div>\n            </TaskContainer>\n          )\n        }\n        {\n          allTasks.finished.length > 0\n          ? <Details open>\n              <summary>Tarefas Concluídas ({allTasks.finished.length})</summary>\n              {\n                allTasks.finished.map(task =>\n\n                  <TaskContainer\n                    key={task.taskID}\n                    onClick={() => handleDoneLocalTask(task.taskID)}\n                    finish={task.finish}\n                  >\n                    <div>\n                      {\n                        task.finish\n                        ? <i className=\"fa-solid fa-circle-check\"></i>\n                        : <i className=\"fa-solid fa-circle\"></i>\n                      }\n                    </div>\n\n                    <div>\n                      {task.content}\n                    </div>\n                  </TaskContainer>\n                )\n              }\n            </Details>\n          : <></>\n        }\n\n      </Section>\n    </Container>\n  );\n}"]},"metadata":{},"sourceType":"module"}